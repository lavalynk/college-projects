package FinalProject;
/**
 * Name: VehicleRentalSystem
 * Abstract: This program calculates rental costs for up to three vehicles. It collects user inputs,
 * validates them, and displays a summary including total rental cost and vehicle details.
 * 
 * @author Keith Brock
 * @since 12/07/2024
 */
public class VehicleRentalSystem {

    public static void main(String[] args) {
        String strCustomerName = "";
        String strPhoneNumber = "";
        String strEmailAddress = "";
        String strPickupDate = "";
        int intRentalDays = 0;
        int intVehicleCount = 0;
        double dblTotalCost = 0;

        // Gather customer details
        System.out.println("Welcome to the Vehicle Rental System!");
        System.out.print("Enter your name: ");
        strCustomerName = ReadStringFromUser();

        System.out.print("Enter your phone number (xxx-xxx-xxxx or xxxxxxxxxx): ");
        strPhoneNumber = ReadValidPhoneNumber();

        System.out.print("Enter your email address: ");
        strEmailAddress = ReadValidEmailAddress();

        System.out.print("Enter the vehicle pickup date (MM-DD-YYYY): ");
        strPickupDate = ReadValidPickupDate();

        System.out.print("Enter the number of rental days: ");
        intRentalDays = ReadIntegerFromUser();

        System.out.print("Enter the number of vehicles to rent (1-3): ");
        intVehicleCount = ReadValidVehicleNumber();

        // Collect vehicle details and calculate costs
        for (int intIndex = 0; intIndex < intVehicleCount; intIndex++) {
            System.out.println("\nVehicle " + (intIndex + 1) + ":");
            String strVehicleType = ReadValidVehicleType();

            System.out.print("Enter the price per day for this vehicle: ");
            float dblPricePerDay = ReadFloatFromUser();

            double dblVehicleCost = dblPricePerDay * intRentalDays;
            dblTotalCost += dblVehicleCost;

            DisplayVehicleDetails(strVehicleType, dblPricePerDay, intRentalDays, dblVehicleCost, intIndex + 1);
        }

        // Display the total rental cost
        DisplaySummary(strCustomerName, strPhoneNumber, strEmailAddress, strPickupDate, intRentalDays, dblTotalCost);
    }

    /**
     * Name: DisplayVehicleDetails
     * Abstract: Displays details for a single vehicle rental.
     * 
     * @param strVehicleType The type of the vehicle.
     * @param dblPricePerDay The price per day for the vehicle.
     * @param intRentalDays The number of rental days.
     * @param dblVehicleCost The total cost for this vehicle.
     * @param intVehicleNumber The vehicle number in the sequence.
     */
    public static void DisplayVehicleDetails(String strVehicleType, float dblPricePerDay, int intRentalDays,
            double dblVehicleCost, int intVehicleNumber) {
        System.out.printf("Vehicle %d: %s, Price per day: %.2f, Total: %.2f%n", intVehicleNumber, strVehicleType,
                dblPricePerDay, dblVehicleCost);
    }

    /**
     * Name: DisplaySummary
     * Abstract: Displays a summary of the customer's rental details.
     * 
     * @param strCustomerName The customer's name.
     * @param strPhoneNumber The customer's phone number.
     * @param strEmailAddress The customer's email address.
     * @param strPickupDate The pickup date for the rental.
     * @param intRentalDays The number of rental days.
     * @param dblTotalCost The total cost of the rental.
     */
    public static void DisplaySummary(String strCustomerName, String strPhoneNumber, String strEmailAddress,
            String strPickupDate, int intRentalDays, double dblTotalCost) {
        System.out.println("\n--- Rental Summary ---");
        System.out.println("Customer: " + strCustomerName);
        System.out.println("Phone: " + strPhoneNumber);
        System.out.println("Email: " + strEmailAddress);
        System.out.println("Pickup Date: " + strPickupDate);
        System.out.println("Rental Days: " + intRentalDays);
        System.out.printf("Total Rental Price: %.2f%n", dblTotalCost);
    }

    /**
     * Name: ReadValidPhoneNumber
     * Abstract: Reads and validates a phone number in the formats xxx-xxx-xxxx or xxxxxxxxxx.
     * 
     * @return A valid phone number.
     */
    public static String ReadValidPhoneNumber() {
        String strPhoneNumber = "";
        boolean blnValid = false;

        while (!blnValid) {
            strPhoneNumber = ReadStringFromUser();
            if ((strPhoneNumber.length() == 12 && strPhoneNumber.charAt(3) == '-' && strPhoneNumber.charAt(7) == '-') ||
                (strPhoneNumber.length() == 10 && strPhoneNumber.chars().allMatch(Character::isDigit))) {
                blnValid = true;
            } else {
                System.out.print("Invalid phone number! Please try again: ");
            }
        }
        return strPhoneNumber;
    }

    /**
     * Name: ReadValidEmailAddress
     * Abstract: Reads and validates an email address. Must contain '@' and '.' with a valid extension.
     * 
     * @return A valid email address.
     */
    public static String ReadValidEmailAddress() {
        String strEmailAddress = "";
        boolean blnValid = false;

        while (!blnValid) {
            strEmailAddress = ReadStringFromUser();
            if (strEmailAddress.contains("@") && strEmailAddress.contains(".")) {
                int intAtIndex = strEmailAddress.indexOf("@");
                int intDotIndex = strEmailAddress.lastIndexOf(".");
                if (intAtIndex > 0 && intDotIndex > intAtIndex + 1 && intDotIndex < strEmailAddress.length() - 2) {
                    blnValid = true;
                } else {
                    System.out.print("Invalid email address! Please try again: ");
                }
            } else {
                System.out.print("Invalid email address! Please try again: ");
            }
        }
        return strEmailAddress;
    }

    /**
     * Name: ReadValidPickupDate
     * Abstract: Reads and validates the pickup date in the format MM-DD-YYYY.
     * 
     * @return A valid pickup date.
     */
    public static String ReadValidPickupDate() {
        String strPickupDate = "";
        boolean blnValid = false;

        while (!blnValid) {
            strPickupDate = ReadStringFromUser();
            if (strPickupDate.length() == 10 && strPickupDate.charAt(2) == '-' && strPickupDate.charAt(5) == '-') {
                try {
                    int intMonth = Integer.parseInt(strPickupDate.substring(0, 2));
                    int intDay = Integer.parseInt(strPickupDate.substring(3, 5));
                    int intYear = Integer.parseInt(strPickupDate.substring(6));
                    if (intMonth >= 1 && intMonth <= 12 && intDay >= 1 && intDay <= 31 && intYear >= 1900) {
                        blnValid = true;
                    } else {
                        System.out.print("Invalid date! Please enter in MM-DD-YYYY format: ");
                    }
                } catch (Exception excError) {
                    System.out.print("Invalid date! Please enter in MM-DD-YYYY format: ");
                }
            } else {
                System.out.print("Invalid date! Please enter in MM-DD-YYYY format: ");
            }
        }
        return strPickupDate;
    }

    /**
     * Name: ReadValidVehicleNumber
     * Abstract: Reads and validates the number of vehicles to rent (1-3).
     * 
     * @return A valid vehicle count.
     */
    public static int ReadValidVehicleNumber() {
        int intVehicleCount = 0;
        boolean blnValid = false;

        while (!blnValid) {
            intVehicleCount = ReadIntegerFromUser();
            if (intVehicleCount >= 1 && intVehicleCount <= 3) {
                blnValid = true;
            } else {
                System.out.print("Invalid number of vehicles! Please enter between 1 and 3: ");
            }
        }
        return intVehicleCount;
    }

    /**
     * Name: ReadValidVehicleType
     * Abstract: Reads and validates the vehicle type (Car, Motorbike, Trailer).
     * 
     * @return A valid vehicle type.
     */
    public static String ReadValidVehicleType() {
        String strVehicleType = "";
        boolean blnValid = false;

        while (!blnValid) {
            System.out.print("Enter the type of vehicle (Car, Motorbike, Trailer): ");
            strVehicleType = ReadStringFromUser();
            if (strVehicleType.equalsIgnoreCase("Car") || strVehicleType.equalsIgnoreCase("Motorbike")
                    || strVehicleType.equalsIgnoreCase("Trailer")) {
                blnValid = true;
            } else {
                System.out.print("Invalid vehicle type! Please enter Car, Motorbike, or Trailer: ");
            }
        }
        return strVehicleType;
    }

    /**
     * Name: ReadStringFromUser
     * Abstract: Reads a string from the user.
     * 
     * @return The string entered by the user.
     */
    public static String ReadStringFromUser() {
        String strBuffer = "";
        try {
            java.io.BufferedReader burInput = new java.io.BufferedReader(new java.io.InputStreamReader(System.in));
            strBuffer = burInput.readLine();
        } catch (Exception excError) {
            System.out.println(excError.toString());
        }
        return strBuffer;
    }

    /**
     * Name: ReadFloatFromUser
     * Abstract: Reads a float from the user.
     * 
     * @return The float value entered by the user.
     */
    public static float ReadFloatFromUser() {
        float sngValue = 0;
        boolean blnValid = false;

        while (!blnValid) {
            try {
                sngValue = Float.parseFloat(ReadStringFromUser());
                blnValid = true;
            } catch (Exception excError) {
                System.out.print("Invalid Input! Please try again.\n");
            }
        }
        return sngValue;
    }

    /**
     * Name: ReadIntegerFromUser
     * Abstract: Reads an integer from the user.
     * 
     * @return The integer value entered by the user.
     */
    public static int ReadIntegerFromUser() {
        int intValue = 0;
        boolean blnValid = false;

        while (!blnValid) {
            try {
                intValue = Integer.parseInt(ReadStringFromUser());
                blnValid = true;
            } catch (Exception excError) {
                System.out.print("Invalid Input! Please try again.\n");
            }
        }
        return intValue;
    }
}
