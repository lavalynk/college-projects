<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<system.webServer>

		<!-- If this element already exists, keep just one and merge entries -->
		<modules runAllManagedModulesForAllRequests="true">
			<remove name="WebDAVModule" />
			<!-- keep any other existing module entries here -->
		</modules>

		<!-- Keep only one <handlers> element in the whole file -->
		<handlers>
			<!-- keep your existing aspNetCore handler as-is -->
			<!-- example from a publish: -->
			<!--
      <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2"
           resourceType="Unspecified" />
      -->

			<!-- remove the WebDAV handler to stop 405s on PUT/DELETE -->
			<remove name="WebDAV" />
			<remove name="WebDAVClassic" />
			<!-- keep any other existing handler entries here -->
		</handlers>

		<!-- Allow verbs (even if host blocks “unlisted” by default) -->
		<security>
			<requestFiltering>
				<verbs allowUnlisted="true">
					<add verb="PUT" allowed="true" />
					<add verb="DELETE" allowed="true" />
					<add verb="PATCH" allowed="true" />
				</verbs>
			</requestFiltering>
		</security>

	</system.webServer>
</configuration>
